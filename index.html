<!DOCTYPE html>
<html>
<head>
	<style type="text/css">
		#tejo
		{
			position: absolute;
			left: 400px;
			top: 567px;
			color: #030763;
		}
		#dadot1
		{
			position: absolute;
			left: 600px;
			top: 577px;
		}
		#dadot2
		{
			position: absolute;
			left: 650px;
			top: 577px;
		}
		#a
		{
			margin-left: 19px;
		}
		#pre,#lanzar
		{
			display: none;
		}
		#jugar
		{
			margin-top: 6px;
			position: absolute;
		}
		#b
		{
		    position: absolute;
		    top: 41em;
		    left: 177px;
		    width: 10.5em;
		    height: 1.2em;
			display: none;

		}
	</style>
	<title>Juego de los dados</title>
	<script type="text/javascript">
		var banca=0,apuesta=0,tejo=0,bintejo=0,numtejo=0,igual=0;
		function crupier()
		{
			document.getElementById("tejo").style.onclick = "block";
			var aleatorio1=0,aleatorio2=0;
			var aleatorio1 = Math.round(Math.random()*(6 - 1 + 1) + 1);
			var aleatorio2 = Math.round(Math.random()*(6 - 1 + 1) + 1);
						if (aleatorio1==0)aleatorio1++;
						if (aleatorio2==0)aleatorio2++;
						//condiciones para saber cual dado mostrar
						if(aleatorio1==1)	
								document.getElementById("dado1").src = "dados/d1.jpg";
						if(aleatorio1==2)
								document.getElementById("dado1").src = "dados/d2.jpg";
						if(aleatorio1==3)
								document.getElementById("dado1").src = "dados/d3.jpg";
						if(aleatorio1==4)
								document.getElementById("dado1").src = "dados/d4.jpg";
						if(aleatorio1==5)
								document.getElementById("dado1").src = "dados/d5.jpg";
						if(aleatorio1==6)
								document.getElementById("dado1").src = "dados/d6.jpg";
						if(aleatorio2==1)	
								document.getElementById("dado2").src = "dados/d1.jpg";
						if(aleatorio2==2)
								document.getElementById("dado2").src = "dados/d2.jpg";
						if(aleatorio2==3)
								document.getElementById("dado2").src = "dados/d3.jpg";
						if(aleatorio2==4)
								document.getElementById("dado2").src = "dados/d4.jpg";
						if(aleatorio2==5)
								document.getElementById("dado2").src = "dados/d5.jpg";
						if(aleatorio2==6)
								document.getElementById("dado2").src = "dados/d6.jpg";
					   numtejo=aleatorio1+aleatorio2;//suma de dados
				
				if(numtejo==7)//condicion de perdida
				{
					document.getElementById("res").style.color = "red";
					document.getElementById("res").innerHTML = "Perdiste $"+apuesta+" salio 7";
					document.getElementById("lanzar").onclick = function() {tirar()};
					document.getElementById("tejo").style.display = "none";
					document.getElementById("dadot1").style.display = "none";
					document.getElementById("dadot2").style.display = "none";
					reload();
					exit();
				}
				if(numtejo==igual)//condicion de gane
				{
					document.getElementById("res").style.color = "green";
					document.getElementById("res").innerHTML = "Ganaste $"+apuesta+" Salio tu tejo";
					banca+=(apuesta*2);//incremento de apuesta a banca
					document.getElementById("a").value =banca;
					document.getElementById("tejo").style.display="none";
					document.getElementById("dadot1").style.display="none";
					document.getElementById("dadot2").style.display="none";
					document.getElementById("lanzar").onclick = function() {tirar()};//cambio de onclick
					reload();
					exit();
					
				}
			document.getElementById("tejo").style.onclick = "block";
		}//fin funcion
//////////////////////////////////////////////////////////////////////////////////////////
	function tirar()//funcion para las operaciones
		{
					document.getElementById("dadot1").style.display = "none";
					document.getElementById("dadot2").style.display = "none";
				if(document.getElementById("a").value<=0)
				{
					alert("Fondo insuficientes!!:(");
					document.getElementById("a").disabled = false;
					exit();
				}
				document.getElementById("a").disabled = true;
				//opcion de retiro
				document.getElementById("retiro").style.display = "block";
				//colocacion  de apuesta
				apuesta = document.getElementById("b").value;
				//resta de apuesta
				banca = document.getElementById("a").value -= document.getElementById("b").value;
				var bin=0,pos=0,num=0;
				document.getElementById("res").innerHTML = "";
				while(bin<2)//ciclo obtener dos dados
				{

					var aleatorio = Math.round(Math.random()*(6 - 1 + 1) + 1);//genera numero aleatorio
						if (aleatorio==0)aleatorio++;

						if(bin==0)//etiqueta <igm> donde aparecera el dados generado
							pos="1";
						else
							pos="2";
						//condiciones para saber cual dado mostrar
						if(aleatorio==1)	
								document.getElementById("dado"+pos).src = "dados/d1.jpg";
						if(aleatorio==2)
								document.getElementById("dado"+pos).src = "dados/d2.jpg";
						if(aleatorio==3)
								document.getElementById("dado"+pos).src = "dados/d3.jpg";
						if(aleatorio==4)
								document.getElementById("dado"+pos).src = "dados/d4.jpg";
						if(aleatorio==5)
								document.getElementById("dado"+pos).src = "dados/d5.jpg";
						if(aleatorio==6)
								document.getElementById("dado"+pos).src = "dados/d6.jpg";
					    bin++;//incremento para el segundo dado	
					    num+=aleatorio;//suma de los dos dados
				}//cierre de ciclo
					//condicion para ver si gano
					if(num==7||num==11)
					{	
						document.getElementById("res").style.color = "green";
						document.getElementById("res").innerHTML = "Ganaste $"+apuesta+" Felicidades";
						banca+=(apuesta*2);
						document.getElementById("a").value =banca;
					}
					//condicion para ver si perdio
					if(num==2||num==3||num==12)
					{
						document.getElementById("res").style.color = "red";
						document.getElementById("res").innerHTML = "Perdiste $"+apuesta+":(";
						document.getElementById("tejo").innerHTML = "";
					}
					//condicion para ver si se toma tejo
					if(num==4||num==5||num==6||num==8||num==9||num==10)
					{
						document.getElementById("tejo").style.onclick = "block";
						document.getElementById("dadot1").src = document.getElementById("dado1").src;
						document.getElementById("dadot2").src = document.getElementById("dado2").src;
						//muestra de dados de tejo
						document.getElementById("dadot1").style.display = "block";
						document.getElementById("dadot2").style.display = "block";
						document.getElementById("tejo").style.display = "block";//mensaje de tejo
						//colocacion de imagenes de tejo
						tejo=1;
						igual=num;
						document.getElementById("lanzar").onclick = function() {crupier()};
						exit();
					}
		}//cierre de funcion
		function colocacion()
		{
			banca = document.getElementById("a").value;//se coloca banca
			//cambio de botones y instrucciones
			document.getElementById("jugar").style.display  = "none";
			document.getElementById("coloca").style.display = "none";
			document.getElementById("retiro").style.display = "none";
			document.getElementById("lanzar").style.display = "block";
			document.getElementById("pre").style.display = "block";
			document.getElementById("b").style.display = "block";
			document.getElementById("a").disabled = true;
			
		}
		function retirar()
		{
			alert("Retiro a tu banco: $"+banca);
			location.reload();
			document.getElementById("a").value = "";
		}
	</script>
</head>
<body>
<img src="banner.jpg" width="100%" height="360px">
<!--titulos-->
<h1>Manejo del DOM javascript</h1>
<h3>Bienvenido al juego de los dados</h3>
<!--input-->
&nbsp;&nbsp;Disponible para jugar  <input id="a" type="text" placeholder="Todo tu dinero"><br><br>
<p id="pre">Â¿Cuanto quieres apostar?</p><input id="b" type="text" placeholder="Tu apuesta">

<!--intrucciones despues del primer lanzamiento-->
<div id="jugar">&nbsp;&nbsp;Haz click en el boton jugar ahora</div><br><br>
<!--boton para colocar banca-->
<button id="coloca" onclick="colocacion()">Jugar ahora</button>

<!--llamada a funcion-->
<button id="lanzar" onclick="tirar()">Lanzar dados</button><button id="retiro" onclick="retirar()">Retirarse</button>
<!--Muestra de resultado-->
<h2 id="res"></h2>
<!--imagenes de dados-->
<img id="dado1" src="" width="46px" height="46px">&nbsp;<img id="dado2" src="" width="46px" height="46px">
<!--mensaje de toma de tejo-->
<h2 id="tejo" style="display: none;">
	SE TOMA TEJO=
</h2>
<!--dados de tejo-->
<img id="dadot1" src="" width="46px" height="46px">
&nbsp;
<img id="dadot2" src="" width="46px" height="46px">
</body>
</html>



